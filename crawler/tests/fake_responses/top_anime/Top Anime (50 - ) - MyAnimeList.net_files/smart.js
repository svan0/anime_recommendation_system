/*_hs_*/;var blockedPercentForAddtlConsent = 0.98;
var numberBetweenZeroAndOne = Math.random();
var isBlockingAddtlConsent = blockedPercentForAddtlConsent > numberBetweenZeroAndOne;
window.sas_blockAddtlConsent = isBlockingAddtlConsent;;window.sas_useID5Module = true;;/*_hs_*/var sas=sas||{};sas.utils=sas.utils||{},sas.events=sas.events||{},sas.cmp=sas.cmp||{},function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"bind",(function(){return y})),t.replaceTokenInString=function(e,t,n){return T(t,(function(t,a){t=void 0===t?"":t;var r=n+a.toUpperCase()+n,o=new RegExp(r,"g");e=e.replace(o,t)})),e},t.logMessage=b,t.logInfo=function(){C()&&h&&console.info.apply(console,w(arguments,"INFO:"))},t.logWarn=function(){C()&&g&&console.warn.apply(console,w(arguments,"WARNING:"))},t.logError=I,t.getParameterByName=function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null!==t?decodeURIComponent(t[1].replace(/\+/g," ")):""},t.isA=_,t.isFn=S,t.isStr=D,t.isArray=k,t.isNumber=function(e){return _(e,c)},t.isPlainObject=function(e){return _(e,l)},t.isBoolean=function(e){return _(e,d)},t.isEmpty=L,t._each=T,t._map=function(e,t){if(L(e))return[];if(S(e.map))return e.map(t);var n=[];return T(e,(function(a,r){n.push(t(a,r,e))})),n},t.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.checkCookieSupport=function(){if(window.navigator.cookieEnabled||document.cookie.length)return!0},t.cookiesAreEnabled=function(){return window.document.cookie="id5.cookieTest",-1!==window.document.cookie.indexOf("id5.cookieTest")},t.getCookie=function(e){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null},t.setCookie=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/")},t.getItemFromLocalStorage=O,t.getFromLocalStorage=function(e){var t=window.localStorage.getItem("".concat(e.name,"_exp"));return t&&0<new Date(t).getTime()-Date.now()?O(e.name):(R(e),null)},t.setItemInLocalStorage=E,t.setInLocalStorage=function(e,t){var n=new Date(Date.now()+864e5*e.expiresDays).toUTCString();E("".concat(e.name,"_exp"),n),E("".concat(e.name),t)},t.removeItemFromLocalStorage=N,t.removeFromLocalStorage=R,t.parseQS=x,t.formatQS=F,t.parse=M,t.format=P,t.ajax=function(e,t,n){var a,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var s=i.method||(n?"POST":"GET");document.createElement("a").href=e;var c,l="object"===o(t)&&null!==t?t:{success:function(){b("xhr success")},error:function(e){I("xhr error",null,e)}};"function"==typeof t&&(l.success=t),(a=new window.XMLHttpRequest).onreadystatechange=function(){var e;a.readyState===j&&(200<=(e=a.status)&&e<300||304===e?l.success(a.responseText,a):l.error(a.statusText,a))},a.ontimeout=function(){I("  xhr timeout after ",a.timeout,"ms")},"GET"===s&&n&&(r((c=M(e,i)).search,n),e=P(c)),a.open(s,e,!0),i.withCredentials&&(a.withCredentials=!0),T(i.customHeaders,(function(e,t){a.setRequestHeader(t,e)})),i.preflight&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type",i.contentType||"text/plain"),"POST"===s&&n?a.send(n):a.send()}catch(e){I("xhr construction",e)}},t.fireAsyncPixel=U,t.deferPixelFire=function(e,t,n){"loading"!==document.readyState?U(e,t,n):document.addEventListener("DOMContentLoaded",(function(){U(e,t,n)}))},t.cyrb53Hash=function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=function(e,t){if(S(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},r=3735928559^n,o=1103547991^n,i=0;i<e.length;i++)r=a(r^(t=e.charCodeAt(i)),2654435761),o=a(o^t,1597334677);return r=a(r^r>>>16,2246822507)^a(o^o>>>13,3266489909),(4294967296*(2097151&(o=a(o^o>>>16,2246822507)^a(r^r>>>13,3266489909)))+(r>>>0)).toString()};var a=n(2);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var c="Number",l="Object",d="Boolean",u=Object.prototype.toString,p=Boolean(window.console),f=Boolean(p&&window.console.log),h=Boolean(p&&window.console.info),g=Boolean(p&&window.console.warn),v=Boolean(p&&window.console.error),m={},y=function(e,t){return t}.bind(null,1,m)()===m?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}};function b(){C()&&f&&console.log.apply(console,w(arguments,"MESSAGE:"))}function I(){C()&&v&&console.error.apply(console,w(arguments,"ERROR:"))}function w(e,t){return e=[].slice.call(e),"TESTING"!==a.default.version?(t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #1c307e; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cID5")):e.unshift((new Date).getTime()),e}function C(){return a.default&&!0===a.default.debug}function _(e,t){return u.call(e)==="[object "+t+"]"}function S(e){return _(e,"Function")}function D(e){return _(e,"String")}function k(e){return _(e,"Array")}function L(e){if(!e)return!0;if(k(e)||D(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function T(e,t){if(!L(e)){if(S(e.forEach))return e.forEach(t,this);var n=0,a=e.length;if(0<a)for(;n<a;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function A(){try{return window.localStorage}catch(e){I("Local storage api disabled!")}}function O(e){if(A())return window.localStorage.getItem(e)}function E(e,t){A()&&window.localStorage.setItem(e,t)}function N(e){A()&&window.localStorage.removeItem(e)}function R(e){N("".concat(e.name)),N("".concat(e.name,"_exp"))}function x(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=i(t.split("="),2),a=n[0],r=n[1];return/\[\]$/.test(a)?(e[a=a.replace("[]","")]=e[a]||[],e[a].push(r)):e[a]=r||"",e}),{}):{}}function F(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function M(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var a=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:a?n.search:x(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function P(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(F(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}var j=4;function U(e,t,n){var a=new Image;a.src=e,S(t)&&t(),S(n)&&(a.complete?n():a.addEventListener("load",n))}},function(e,t){e.exports={STORAGE_CONFIG:{ID5:{name:"id5id",expiresDays:90},LAST:{name:"id5id_last",expiresDays:90},CONSENT_DATA:{name:"id5id_cached_consent_data",expiresDays:30},PD:{name:"id5id_cached_pd",expiresDays:30},FS:{name:"id5id_fs",expiresDays:7},PRIVACY:{name:"id5id_privacy",expiresDays:30}},LEGACY_COOKIE_NAMES:["id5.1st","id5id.1st"],PRIVACY:{JURISDICTIONS:{gdpr:!0,ccpa:!1,lgpd:!0,other:!1}},ID5_EIDS_SOURCE:"id5-sync.com"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Id5Api",(function(){return d})),n.d(t,"ID5",(function(){return u}));var a=n(0),r=n(3),o=n(4),i=n(5),s=n(6);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"loaded",!1),l(this,"debug",!1),l(this,"debugBypassConsent",!1),l(this,"allowLocalStorageWithoutConsentApi",!1),l(this,"localStorageAllowed",!1),l(this,"isUsingCdn",!1),l(this,"referer",!1),l(this,"version",void 0),l(this,"versions",{}),this.loaded=!0,this.debug=this.debug||"TRUE"===a.getParameterByName("id5_debug").toUpperCase(),this.isUsingCdn=!(!document.currentScript||!document.currentScript.src||0!==document.currentScript.src.indexOf("https://cdn.id5-sync.com")),this.referer=Object(r.a)();var t=this;this.clientStore=new o.a((function(){return t.localStorageAllowed}))}var t,n;return t=e,(n=[{key:"init",value:function(e){if(void 0===this.version)throw new Error('ID5.version variable is missing! Make sure you build from source with "gulp build" from this project. Contact support@id5.io for help.');try{a.logInfo("Invoking Id5Api.init",arguments);var t=new s.a(e);return this.debugBypassConsent=this.debugBypassConsent||t.getOptions().debugBypassConsent,this.allowLocalStorageWithoutConsentApi=this.allowLocalStorageWithoutConsentApi||t.getOptions().allowLocalStorageWithoutConsentApi,this.consent=new i.a,this.getId(t,!1),a.logInfo("ID5 initialized for partner ".concat(t.getOptions().partnerId," with referer ").concat(this.referer.referer," and options"),e),t}catch(e){a.logError("Exception caught from Id5Api.init",e)}}},{key:"refreshId",value:function(e,t,n){var r=1<arguments.length&&void 0!==t&&t,o=2<arguments.length&&void 0!==n?n:{};if(void 0===this.version)throw new Error('ID5.version variable is missing! Make sure you build from source with "gulp build" from this project. Contact support@id5.io for help.');if(!a.isBoolean(r))throw new Error("Invalid signature for Id5Api.refreshId: second parameter must be a boolean");try{a.logInfo("Invoking Id5Api.refreshId",arguments),e.startRefresh(r),e.updateOptions(o),this.consent.resetConsentData(),this.getId(e,r)}catch(e){a.logError("Exception caught from Id5Api.refreshId",e)}return e}},{key:"updateLocalStorageAllowed",value:function(){this.localStorageAllowed=this.consent.isLocalStorageAllowed(this.allowLocalStorageWithoutConsentApi,this.debugBypassConsent)}},{key:"getId",value:function(e,t){var n,r,o=this,i=1<arguments.length&&void 0!==t&&t,s=e.getOptions(),c=0,l=!1,d=!1,u=!1;this.updateLocalStorageAllowed(),this.localStorageAllowed&&(n=this.clientStore.getResponse(),r=this.clientStore.getDateTime(),l=r<=0||Date.now()-r>1e3*s.refreshInSeconds,c=this.clientStore.getNb(s.partnerId),d=!this.clientStore.storedPdMatchesPd(s.partnerId,s.pd)),n||(n=this.clientStore.getResponseFromLegacyCookie(),l=!0),n&&n.universal_uid&&!d?(e.setUserId(n.universal_uid,n.link_type||0,!0),c=this.clientStore.incNb(s.partnerId,c),u=!0,a.logInfo("ID5 User ID available from cache:",{storedResponse:n,storedDateTime:r,refreshNeeded:l})):n&&n.universal_uid&&d?a.logInfo("PD value has changed, so ignoring User ID from cache"):n&&!n.universal_uid?a.logError("Invalid stored response: ",n):a.logInfo("No ID5 User ID available from cache"),this.consent.requestConsent(this.debugBypassConsent,s.cmpApi,s.consentData,(function(t){var r,p,f,h,g,v;o.updateLocalStorageAllowed(),!1!==o.localStorageAllowed?(a.logInfo("Consent to access local storage is given: ",o.localStorageAllowed),n=o.clientStore.getResponse()||o.clientStore.getResponseFromLegacyCookie(),r=!o.clientStore.storedConsentDataMatchesConsentData(t),o.clientStore.putHashedConsentData(t),o.clientStore.putHashedPd(s.partnerId,s.pd),n&&n.universal_uid&&n.signature&&!l&&!r&&!d&&!i||(p="https://id5-sync.com/g/v2/".concat(s.partnerId,".json"),f=t&&t.gdprApplies?1:0,h=t&&t.gdprApplies?t.consentString:void 0,g=n&&n.signature?n.signature:void 0,v={partner:s.partnerId,v:o.version,o:"api",gdpr:f,rf:o.referer.referer,u:o.referer.stack[0]||window.location.href,top:o.referer.reachedTop?1:0,nbPage:c,id5cdn:o.isUsingCdn},void 0!==h&&(v.gdpr_consent=h),void 0!==g&&(v.s=g),void 0!==s.pd&&(v.pd=s.pd),void 0!==s.partnerUserId&&(v.puid=s.partnerUserId),void 0!==s.provider&&(v.provider=s.provider),!0===e.getOptions().abTesting.enabled&&(v.features=v.features||{},v.features.ab=1),a.logInfo("Fetching ID5 user ID from:",p,v),i&&a.logInfo("...with Force Fetch"),a.ajax(p,{success:function(t){if(a.logInfo("Response from ID5 received:",t),t)try{var n,r,i,c=JSON.parse(t);a.logInfo("Valid json response from ID5 received:",c),a.isStr(c.universal_uid)?(e.setUserId(c.universal_uid,c.link_type||0,!1),o.consent.setStoredPrivacy(c.privacy),o.updateLocalStorageAllowed(),!0===o.localStorageAllowed||void 0===c.privacy?(o.clientStore.putResponse(t),o.clientStore.setDateTime((new Date).toUTCString()),o.clientStore.setNb(s.partnerId,u?0:1)):o.clientStore.clearAll(s.partnerId),o.clientStore.removeLegacyCookies(s.partnerId),!0===c.cascade_needed&&!0===o.localStorageAllowed&&(n=s.partnerUserId&&0<s.partnerUserId.length,r="https://id5-sync.com/".concat(n?"s":"i","/").concat(s.partnerId,"/8.gif?id5id=").concat(e._userId,"&fs=").concat(o.clientStore.firstSync(),"&o=api&").concat(n?"puid="+s.partnerUserId+"&":"","gdpr_consent=").concat(h,"&gdpr=").concat(f),a.logInfo("Opportunities to cascade available:",r),i=o.clientStore,a.deferPixelFire(r,void 0,(function(){i.syncCallback()})))):a.logError("Invalid response from ID5 servers:",t)}catch(t){a.logError(t)}else a.logError("Empty response from ID5 servers:",t)},error:function(e){a.logError(e)}},JSON.stringify(v),{method:"POST",withCredentials:!0}))):a.logInfo("No legal basis to use ID5",t)}))}}])&&c(t.prototype,n),e}();window.ID5||(window.ID5=new d);var u=window.ID5;t.default=u},function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}));var r,o=(r=window,function(){try{var e,t=i(),n=t.length-1,a=null!==t[n].location||0<n&&null!==t[n-1].referrer,r=function(e){for(var t,n=[],a=null,r=null,o=null,i=null,s=e.length-1;0<=s;s--){try{a=e[s].location}catch(e){}if(a)n.push(a),i=i||a;else if(0!==s){t=e[s-1];try{r=t.referrer,o=t.ancestor}catch(e){}r?(n.push(r),i=i||r):o?(n.push(o),i=i||o):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:i}}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:r.detectedRefererUrl,reachedTop:a,numIframes:n,stack:r.stack,canonicalUrl:e}}catch(e){}});function i(){var e=function(){var e,t=[];do{try{e=e?e.parent:r;try{var n=e===r.top,o={referrer:e.document.referrer||null,location:e.location.href||null,isTop:n};n&&(o=a(o,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(e.document)})),t.push(o)}catch(n){t.push({referrer:null,location:null,isTop:e===r.top})}}catch(n){return t.push({referrer:null,location:null,isTop:!1}),t}}while(e!==r.top);return t}(),t=function(){try{if(!r.location.ancestorOrigins)return;return r.location.ancestorOrigins}catch(e){}}();if(t)for(var n=0,o=t.length;n<o;n++)e[n].ancestor=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(1),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(t){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=void 0,(n="localStorageAllowedCallback")in this?Object.defineProperty(this,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[n]=a,this.localStorageAllowedCallback=t}var t,n,r;return t=e,r=[{key:"pdCacheConfig",value:function(e){return{name:"".concat(o.a.STORAGE_CONFIG.PD.name,"_").concat(e),expiresDays:o.a.STORAGE_CONFIG.PD.expiresDays}}},{key:"makeStoredHash",value:function(e){return a.cyrb53Hash("string"==typeof e?e:"")}},{key:"nbCacheConfig",value:function(e){return{name:"".concat(o.a.STORAGE_CONFIG.ID5.name,"_").concat(e,"_nb"),expiresDays:o.a.STORAGE_CONFIG.ID5.expiresDays}}},{key:"storedDataMatchesCurrentData",value:function(e,t){return null==e||e===t}},{key:"makeStoredConsentDataHash",value:function(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),a.cyrb53Hash(JSON.stringify(t))}}],(n=[{key:"get",value:function(e){try{if(!0===this.localStorageAllowedCallback())return a.getFromLocalStorage(e);a.logError("clientStore.get() has been called without localStorageAllowed")}catch(e){a.logError(e)}}},{key:"clear",value:function(e){try{a.removeFromLocalStorage(e)}catch(e){a.logError(e)}}},{key:"put",value:function(e,t){try{!0===this.localStorageAllowedCallback()?a.setInLocalStorage(e,t):a.logError("clientStore.put() has been called without localStorageAllowed")}catch(e){a.logError(e)}}},{key:"getResponseFromLegacyCookie",value:function(){var e;return o.a.LEGACY_COOKIE_NAMES.forEach((function(t){a.getCookie(t)&&(e=a.getCookie(t))})),e?JSON.parse(e):null}},{key:"getResponse",value:function(){var e=this.get(o.a.STORAGE_CONFIG.ID5);return e?JSON.parse(decodeURIComponent(e)):e}},{key:"clearResponse",value:function(){this.clear(o.a.STORAGE_CONFIG.ID5)}},{key:"putResponse",value:function(e){this.put(o.a.STORAGE_CONFIG.ID5,encodeURIComponent(e))}},{key:"getHashedConsentData",value:function(){return this.get(o.a.STORAGE_CONFIG.CONSENT_DATA)}},{key:"clearHashedConsentData",value:function(){this.clear(o.a.STORAGE_CONFIG.CONSENT_DATA)}},{key:"putHashedConsentData",value:function(t){this.put(o.a.STORAGE_CONFIG.CONSENT_DATA,e.makeStoredConsentDataHash(t))}},{key:"getHashedPd",value:function(t){return this.get(e.pdCacheConfig(t))}},{key:"storedPdMatchesPd",value:function(t,n){return e.storedDataMatchesCurrentData(this.getHashedPd(t),e.makeStoredHash(n))}},{key:"clearHashedPd",value:function(t){this.clear(e.pdCacheConfig(t))}},{key:"putHashedPd",value:function(t,n){this.put(e.pdCacheConfig(t),e.makeStoredHash(n))}},{key:"getDateTime",value:function(){return new Date(+this.get(o.a.STORAGE_CONFIG.LAST)).getTime()}},{key:"clearDateTime",value:function(){this.clear(o.a.STORAGE_CONFIG.LAST)}},{key:"setDateTime",value:function(e){this.put(o.a.STORAGE_CONFIG.LAST,e)}},{key:"getNb",value:function(t){var n=this.get(e.nbCacheConfig(t));return n?parseInt(n):0}},{key:"clearNb",value:function(t){this.clear(e.nbCacheConfig(t))}},{key:"setNb",value:function(t,n){this.put(e.nbCacheConfig(t),n)}},{key:"incNb",value:function(e,t){return t++,this.setNb(e,t),t}},{key:"syncCallback",value:function(){this.put(o.a.STORAGE_CONFIG.FS,"1")}},{key:"firstSync",value:function(){var e=this.get(o.a.STORAGE_CONFIG.FS);return void 0===e||"1"===e?0:1}},{key:"clearAll",value:function(e){this.clearResponse(),this.clearDateTime(),this.clearNb(e),this.clearHashedPd(e),this.clearHashedConsentData()}},{key:"removeLegacyCookies",value:function(e){var t=new Date(Date.now()-1e3).toUTCString();o.a.LEGACY_COOKIE_NAMES.forEach((function(n){a.setCookie("".concat(n),"",t),a.setCookie("".concat(n,"_nb"),"",t),a.setCookie("".concat(n,"_").concat(e,"_nb"),"",t),a.setCookie("".concat(n,"_last"),"",t),a.setCookie("".concat(n,".cached_pd"),"",t),a.setCookie("".concat(n,".cached_consent_data"),"",t)}))}},{key:"storedConsentDataMatchesConsentData",value:function(t){return e.storedDataMatchesCurrentData(this.getHashedConsentData(),e.makeStoredConsentDataHash(t))}}])&&i(t.prototype,n),r&&i(t,r),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(1),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"consentData",void 0),s(this,"staticConsentData",void 0),s(this,"storedPrivacyData",void 0),s(this,"cmpVersion",0),s(this,"cmpCallMap",{iab:this.lookupIabConsent,static:this.lookupStaticConsentData})}var t,n,r;return t=e,r=[{key:"findCMP",value:function(){for(var e,t,n=0,a=window;!e;){try{if("function"==typeof a.__tcfapi||"function"==typeof a.__cmp){t="function"==typeof a.__tcfapi?(n=2,a.__tcfapi):(n=1,a.__cmp),e=a;break}}catch(e){}try{if(a.frames.__tcfapiLocator){n=2,e=a;break}}catch(e){}try{if(a.frames.__cmpLocator){n=1,e=a;break}}catch(e){}if(a===window.top)break;a=a.parent}return{cmpVersion:n,cmpFrame:e,cmpFunction:t}}},{key:"cmpSuccess",value:function(e,t,n){var r=1===e.cmpVersion?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||a.isStr(e.getConsentData.consentData)&&a.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===e.cmpVersion?function(){var e=t&&"boolean"==typeof t.gdprApplies?t.gdprApplies:void 0,n=t&&t.tcString;return!("boolean"==typeof e&&(!0!==e||a.isStr(n)))}:null;a.logInfo("CMP Success callback for version",e.cmpVersion,r),a.isFn(r)&&(r(t)?(e.resetConsentData(),a.logError("CMP returned unexpected value during lookup process.",t)):e.storeConsentData(t)),n(e.consentData)}}],(n=[{key:"lookupStaticConsentData",value:function(e,t){this.cmpVersion=this.staticConsentData.getConsentData?1:this.staticConsentData.getTCData?2:0,a.logInfo("Using static consent data from config for TCF v".concat(this.cmpVersion),this.staticConsentData),2===this.cmpVersion?e(this,this.staticConsentData.getTCData,t):e(this,this.staticConsentData,t)}},{key:"lookupIabConsent",value:function(t,n){var r,o=this,i=(r={},{consentDataCallback:function(e){a.logInfo("cmpApi: consentDataCallback"),r.getConsentData=e,s()},vendorConsentsCallback:function(e){a.logInfo("cmpApi: vendorConsentsCallback"),r.getVendorConsents=e,s()}});function s(){r.getConsentData&&r.getVendorConsents&&t(o,r,n)}var c=e.findCMP(),l=c.cmpVersion,d=c.cmpFrame,u=c.cmpFunction;if(this.cmpVersion=l,!d)return a.logError("CMP not found"),void t(o,void 0,n);a.isFn(u)?(a.logInfo("cmpApi: calling getConsentData & getVendorConsents"),1===l?(u("getConsentData",null,i.consentDataCallback),u("getVendorConsents",null,i.vendorConsentsCallback)):2===l&&u("addEventListener",l,(function(e,r){a.logInfo("Received a response from CMP",e),r?!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||t(o,e,n):(a.logError("CMP unable to register callback function.  Please check CMP setup."),t(o,void 0,n))}))):t(o,void 0,n)}},{key:"requestConsent",value:function(t,n,r,o){t?(a.logWarn("ID5 is operating in forced consent mode and will not retrieve any consent signals from the CMP"),o(this.consentData)):this.cmpCallMap[n]?this.consentData?o(this.consentData):("static"===n&&(a.isPlainObject(r)?this.staticConsentData=r:a.logError("cmpApi: 'static' did not specify consent data.")),this.cmpCallMap[n].call(this,e.cmpSuccess,o)):(a.logError("Unknown consent API: ".concat(n)),this.resetConsentData(),o(this.consentData))}},{key:"resetConsentData",value:function(){this.consentData=void 0,this.storedPrivacyData=void 0}},{key:"storeConsentData",value:function(e){1===this.cmpVersion?this.consentData={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:void 0,apiVersion:1}:2===this.cmpVersion?this.consentData={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:void 0,apiVersion:2}:this.consentData={apiVersion:0}}},{key:"isLocalStorageAllowed",value:function(e,t){return!0===e||!0===t?(a.logWarn("Local storage access granted by configuration override, consent will not be checked"),!0):this.consentData?!("boolean"==typeof this.consentData.gdprApplies&&this.consentData.gdprApplies&&(!this.consentData.consentString||0===this.consentData.apiVersion||1===this.consentData.apiVersion&&this.consentData.vendorData&&this.consentData.vendorData.purposeConsents&&!1===this.consentData.vendorData.purposeConsents[1]||2===this.consentData.apiVersion&&this.consentData.vendorData&&this.consentData.vendorData.purpose&&this.consentData.vendorData.purpose.consents&&!1===this.consentData.vendorData.purpose.consents[1])):this.isProvisionalLocalStorageAllowed()}},{key:"isProvisionalLocalStorageAllowed",value:function(){return a.isPlainObject(this.storedPrivacyData)||(this.storedPrivacyData=JSON.parse(a.getFromLocalStorage(o.a.STORAGE_CONFIG.PRIVACY))),!(!this.storedPrivacyData||!0!==this.storedPrivacyData.id5_consent)||(this.storedPrivacyData&&void 0!==this.storedPrivacyData.jurisdiction?!1===(void 0!==o.a.PRIVACY.JURISDICTIONS[this.storedPrivacyData.jurisdiction]&&o.a.PRIVACY.JURISDICTIONS[this.storedPrivacyData.jurisdiction])||!0===this.storedPrivacyData.id5_consent:void 0)}},{key:"setStoredPrivacy",value:function(e){try{a.isPlainObject(e)?(this.storedPrivacyData=e,a.setInLocalStorage(o.a.STORAGE_CONFIG.PRIVACY,JSON.stringify(e))):a.logInfo("Cannot store privacy if it is not an object: ",e)}catch(e){a.logError(e)}}}])&&i(t.prototype,n),r&&i(t,r),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(7),r=n(1),o=n.n(r),i=n(8),s=n(0);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_availableCallbackTimerId",void 0),l(this,"_availableCallbackFired",!1),l(this,"_availableCallback",void 0),l(this,"_updateCallback",void 0),l(this,"_refreshCallbackTimerId",void 0),l(this,"_refreshCallbackFired",!1),l(this,"_refreshCallback",void 0),l(this,"_isExposed",void 0),l(this,"_fromCache",void 0),l(this,"_isRefreshing",!1),l(this,"_isRefreshingWithFetch",!1),l(this,"_userId",void 0),l(this,"_linkType",void 0),l(this,"config",void 0),this.config=new a.a(t)}var t,n,r;return t=e,r=[{key:"doFireOnAvailableCallBack",value:function(e){s.logInfo("Id5Status.doFireOnAvailableCallBack"),e._availableCallbackFired=!0,e._availableCallbackTimerId=void 0,e._availableCallback(e)}},{key:"doFireOnUpdateCallBack",value:function(e){s.logInfo("Id5Status.doFireOnUpdateCallBack"),e._updateCallback(e)}},{key:"doFireOnRefreshCallBack",value:function(e){s.logInfo("Id5Status.doFireOnRefreshCallBack"),e._refreshCallbackFired=!0,e._refreshCallbackTimerId=void 0,e._isRefreshing=!1,e._isRefreshingWithFetch=!1,e._refreshCallback(e)}}],(n=[{key:"getOptions",value:function(){return this.config.getOptions()}},{key:"updateOptions",value:function(e){return this.config.updOptions(e)}},{key:"startRefresh",value:function(e){this._isRefreshing=!0,this._isRefreshingWithFetch=e}},{key:"setUserId",value:function(t,n,a){var r,o,c;t?(r=this._userId!==t||this._linkType!==n,this._userId=t,this._linkType=n,this._fromCache=a,s.logInfo("Id5Status.setUserId: user id updated, hasChanged: ".concat(r)),!0===(o=this.config.getOptions()).abTesting.enabled?this._isExposed=!i.a(t,o.abTesting.controlGroupPct):this._isExposed=!0,this._isExposed&&(c=this,s.isFn(this._availableCallback)&&!1===this._availableCallbackFired&&(this._availableCallbackTimerId&&(s.logInfo("Cancelling pending onAvailableCallback watchdog"),clearTimeout(this._availableCallbackTimerId),this._availableCallbackTimerId=void 0),this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(c)}),0)),this._isRefreshing&&s.isFn(this._refreshCallback)&&!1===this._refreshCallbackFired&&(!1!==a&&!1!==this._isRefreshingWithFetch||(this._refreshCallbackTimerId&&(s.logInfo("Cancelling pending onRefreshCallback watchdog"),clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(c)}),0))),r&&s.isFn(this._updateCallback)&&setTimeout((function(){return e.doFireOnUpdateCallBack(c)}),0))):(this._userId=void 0,this._linkType=void 0,this._fromCache=void 0,this._isExposed=void 0)}},{key:"getUserId",value:function(){return!1===this._isExposed?"0":this._userId}},{key:"getLinkType",value:function(){return!1===this._isExposed?0:this._linkType}},{key:"isFromCache",value:function(){return this._fromCache}},{key:"exposeUserId",value:function(){return this._isExposed}},{key:"getUserIdAsEid",value:function(){return{source:o.a.ID5_EIDS_SOURCE,uids:[{id:this.getUserId(),ext:{linkType:this.getLinkType(),abTestingControlGroup:!this.exposeUserId()}}]}}},{key:"onAvailable",value:function(t,n){if(!s.isFn(t))throw new Error("onAvailable expect a function");var a;return s.isFn(this._availableCallback)?s.logInfo("onAvailable was already called, ignoring"):(this._availableCallback=t,(a=this).getUserId()?(s.logInfo("Id5Status.onAvailable: User id already available firing callback immediately"),this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(a)}),0)):0<n&&(this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(a)}),n))),this}},{key:"onUpdate",value:function(t){if(!s.isFn(t))throw new Error("onUpdate expect a function");this._updateCallback=t;var n=this;return this.getUserId()&&setTimeout((function(){return e.doFireOnUpdateCallBack(n)}),0),this}},{key:"onRefresh",value:function(t,n){if(!s.isFn(t))throw new Error("onRefresh expect a function");this._refreshCallbackTimerId&&(clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallback=t;var a=this;return!0===this._isRefreshing&&!1===this._isRefreshingWithFetch&&this.getUserId()?this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(a)}),0):0<n&&(this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(a)}),n)),this}}])&&c(t.prototype,n),r&&c(t,r),e}()},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return s}));var i=n(0),s=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"options",void 0),o(this,"providedOptions",void 0),this.options={debugBypassConsent:!1,allowLocalStorageWithoutConsentApi:!1,cmpApi:"iab",consentData:{getConsentData:{consentData:void 0,gdprApplies:void 0},getVendorConsents:{}},refreshInSeconds:7200,partnerId:void 0,partnerUserId:void 0,callbackOnAvailable:void 0,callbackOnUpdates:void 0,callbackTimeoutInMs:void 0,pd:void 0,abTesting:{enabled:!1,controlGroupPct:0},provider:void 0},this.providedOptions={},!t.partnerId||"number"!=typeof t.partnerId)throw new Error("partnerId is required and must be a number");this.updOptions(t)}var t,n;return t=e,(n=[{key:"getOptions",value:function(){return this.options}},{key:"getProvidedOptions",value:function(){return this.providedOptions}},{key:"updOptions",value:function(t){var n=this;if("object"===a(t)){if("number"==typeof this.options.partnerId&&"number"==typeof t.partnerId&&t.partnerId!==this.options.partnerId)throw new Error("Cannot update config with a different partnerId");Object.keys(t).forEach((function(a){i.isA(t[a],e.configTypes[a])?(n.options[a]=t[a],n.providedOptions[a]=t[a]):i.logError("updOptions options ".concat(a," must be of type ").concat(e.configTypes[a]," but was ").concat(toString.call(t[a])))}))}else i.logError("Config options must be an object")}}])&&r(t.prototype,n),e}();o(s,"configTypes",{debugBypassConsent:"Boolean",allowLocalStorageWithoutConsentApi:"Boolean",cmpApi:"String",consentData:"Object",refreshInSeconds:"Number",partnerId:"Number",partnerUserId:"String",callbackOnAvailable:"Function",callbackOnUpdates:"Function",callbackTimeoutInMs:"Number",pd:"String",abTesting:"Object",provider:"String"})},function(e,t,n){"use strict";t.a=function(e,t){if(!Object(a.isNumber)(t)||t<0||1<t)throw new Error("A/B Testing controlGroupRatio must be a number >= 0 and <= 1");return((n=e)?(Object(a.cyrb53Hash)(n)%r+r)%r:Math.floor(Math.random()*r))<t*r;var n};var a=n(0),r=1e4}]),ID5.version="1.0.2-pre",ID5.versions[ID5.version]=!0,function(){Date.now||(Date.now=function(){return(new Date).getTime()}),sas.utils.extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n&&"object"==typeof n)for(var a in n)void 0!==n[a]&&(Array.isArray(n[a])?e[a]=n[a]:"object"==typeof n[a]?e[a]=sas.utils.extend({},e[a],n[a]):e[a]=n[a])}return e},sas.utils.Latch=function(e){for(var t=[],n={},a=e=e||[],r=!1,o=0;o<a.length;o++)n[e[o]]={};var i=function(){if(!r){for(var e in n)if(!n[e].status)return;r=!0;for(var a=s(),o=0;o<t.length;o++)t[o].apply(this,a)}},s=function(){for(var e=[],t=0;t<a.length;t++)e.push(n[a[t]].result);return e};this.isComplete=function(){return r},this.notify=function(e,t){n[e]&&(n[e].status=!0,n[e].result=t,i())},this.addListener=function(e){null!=e&&(r?e():t.push(e))},i()},sas.utils.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},sas.utils.parseCookies=function(e){for(var t={},n=e.split("; "),a=0;a<n.length;a++){var r=n[a],o=r.indexOf("="),i=r.substring(0,o),s=r.substring(o+1);t[i]=s}return t},sas.utils.setCookie=function(e,t,n,a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);var o="expires="+r.toUTCString();e.cookie=t+"="+n+";"+o+";path=/"};var e=null;sas.utils.checkIfLocalStorageAvailable=function(){if(null==e)try{"undefined"!=typeof localStorage?(localStorage.setItem("smartadserver_feature_test","1"),"1"===localStorage.getItem("smartadserver_feature_test")?(localStorage.removeItem("smartadserver_feature_test"),e=!0):e=!1):e=!1}catch(t){e=!1}return e},sas.utils.getLocalStorageItemSafely=function(e){return sas.utils.checkIfLocalStorageAvailable()?window.localStorage.getItem(e):null},sas.utils.setLocalStorageItemSafely=function(e,t){return!!sas.utils.checkIfLocalStorageAvailable()&&(window.localStorage.setItem(e,t),!0)},sas.utils.isAddtlConsentBlocked=function(){return void 0!==window.sas_blockAddtlConsent&&!!window.sas_blockAddtlConsent},sas.events.addEvent=function(e,t,n){if(e&&t&&n)return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1),{removeEvent:function(){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}}},sas.events.addLoadEvent=function(e,t){if(e&&t){var n="load",a=function(){return!0};(sas.utils.getIEVersion()<11||e==document)&&(n="readystatechange",a=function(){if(!e.readyState||"complete"==e.readyState||"loaded"==e.readyState)return!0});var r=sas.events.addEvent(e,n,(function(){a()&&(r.removeEvent(),t.apply(this,arguments))}))}},sas.events.addMessageEvent=function(e,t){if(e&&t)sas.events.addEvent(e,"message",(function(){t.apply(this,arguments)}))},sas.events._events=sas.events._events||{},sas.events._history=sas.events._history||[],sas.events.on=function(e,t,n){sas.events._events[e]=sas.events._events[e]||{que:[]};var a=sas.events._events[e];n&&(a=a[n]=a[n]||{que:[]}),a.que.push(t)},sas.events.fire=function(e,t,n){sas.events._history.push({eventName:e,data:sas.utils.extend({timestamp:Date.now()},t),id:n});var a=sas.events._events[e];if(a){if(n&&a[n])for(var r=0;r<a[n].que.length;r++)a[n].que[r](sas.utils.extend({},t),n);for(r=0;r<a.que.length;r++)a.que[r](sas.utils.extend({},t),n)}},sas.events.off=function(e,t,n){var a=sas.events._events[e];if(a){var r=a.que;if(n&&(r=a[n].que),r){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}},sas.events.history=function(e){for(var t=[],n=0;n<sas.events._history.length;n++){var a=sas.events._history[n];e&&a.eventName!=e||t.push(sas.utils.extend({},a))}return t}}(),function(){"use strict";var e={774:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DataDogDefaultClientToken="pub4dc0b42521d789dc92f11b797f836ecf",t.DataDogUrlDomain="https://browser-http-intake.logs.datadoghq.eu/v1/input/",t.DataDogUrlParams="?ddsource=smartWebLogger&ddtags=version:0.0.1-9110cbe5d7073cc35538d4f4cd5a191e3869117f",t.DebugLogLevel="debug",t.ErrorLogLevel="error",t.InfoLogLevel="info",t.WarningLogLevel="warning"},554:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(774);t.DefaultConfiguration={clientToken:a.DataDogDefaultClientToken,source:"video",tags:"video",service:"video",host:"FRONT-DDLOG-HOST",endpoint:"videoPlugin",minLogLevel:"error",samplingRate:{debug:1e4,info:1e3,warning:100,error:100}}},85:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(774),r=function(){function e(e){this.url=a.DataDogUrlDomain+e+a.DataDogUrlParams}return e.prototype.log=function(e){var t={headers:{"content-type":"text/plain;charset=UTF-8"},body:JSON.stringify(e),method:"POST"};fetch(this.url,t).then((function(e){e.ok&&console.log("WebTechnicalLogger data were logged successfully")})).catch((function(e){return console.log("WebTechnicalLogger Fetch error ",e)}))},e}();t.DataDogLogger=r},464:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(348),o=n(554),i=n(85),s=n(774),c=function(){function e(e){void 0===e&&(e=null),this.configuration=this.prepareConfiguration(o.DefaultConfiguration,e),this.loggerManager=new r.LoggerManager(this.configuration.samplingRate),this.dataDogLogger=new i.DataDogLogger(this.configuration.clientToken)}return e.prototype.log=function(e,t,n){var a=this.loggerManager.getLog(e,n);a&&this.dataDogLogger.log({log:a,endpoint:this.configuration.endpoint,samplingRate:this.configuration.samplingRate[e],type:t,severity:e,service:this.configuration.service,source:this.configuration.source,host:this.configuration.host})},e.prototype.updateConfiguration=function(e){e?(this.configuration=this.prepareConfiguration(this.configuration,e),this.loggerManager.updateSamplingRate(this.configuration.samplingRate)):console.warn("Web Technical Logger new configuration is not updated")},e.prototype.prepareConfiguration=function(e,t){var n,a=[s.ErrorLogLevel,s.InfoLogLevel,s.DebugLogLevel,s.WarningLogLevel];return n=this.mergeConfiguration(e,t),a.indexOf(n.minLogLevel)<0&&(n.minLogLevel=s.ErrorLogLevel),n},e.prototype.mergeConfiguration=function(e,t){var n=this;return null===t?e:a(a({},e),Object.keys(e).reduce((function(a,r){return null!==t[r]&&void 0!==t[r]&&(t[r]instanceof Object?a[r]=n.mergeConfiguration(e[r],t[r]):a[r]=t[r]),a}),{}))},e}();t.WebTechnicalLogger=c},348:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(774),r=n(420),o=n(882),i=n(333),s=n(570),c=n(82),l=function(){function e(e){this.updateSamplingRate(e)}return e.prototype.getLog=function(e,t){var n=!1;switch(e){case a.DebugLogLevel:null!==this.getErrorExcludedLog(t)&&this.toLog(this.sampling.debug)?n=this.getErrorExcludedLog(t):console.warn("Web Technical Logger, debugLog: the log cannot be logged because of sampling");break;case a.ErrorLogLevel:null!==this.getErrorLog(t)&&this.toLog(this.sampling.error)?n=this.getErrorLog(t):console.warn("Web Technical Logger, errorLog: the log cannot be logged because of sampling");break;case a.InfoLogLevel:null!==this.getErrorExcludedLog(t)&&this.toLog(this.sampling.info)&&(n=this.getErrorExcludedLog(t));break;case a.WarningLogLevel:null!==this.getErrorExcludedLog(t)&&this.toLog(this.sampling.warning)?n=this.getErrorExcludedLog(t):console.warn("Web Technical Logger, warningLog: the log cannot be logged because of sampling");break;default:console.error("Web Technical Logger: we do not suport log level:",e)}return n},e.prototype.updateSamplingRate=function(e){this.sampling=e},e.prototype.toLog=function(e){return!((Math.floor(Math.random()*e)+1)%e)},e.prototype.getErrorLog=function(e){var t=(new r.ErrorNode).getNodeResponse(e.error),n=(new o.SmartNode).getNodeResponse(e.smart),a=null;return null!==t&&null!==n?a={error:t,smart:n}:console.error("Web Technical Logger: error node is not defined"),a},e.prototype.getErrorExcludedLog=function(e){var t={},n=(new i.MediaNode).getNodeResponse(e.media),a=(new o.SmartNode).getNodeResponse(e.smart),r=(new s.ViewabilityNode).getNodeResponse(e.viewability),l=(new c.BiddingNode).getNodeResponse(e.bidding);return null===n&&null===a&&null===r&&null===l?t=null:(t.media=n,t.smart=a,t.viewability=r,t.bidding=l),t},e}();t.LoggerManager=l},82:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.amount=null,this.currency=null}return e.prototype.getNodeResponse=function(e){return null==e?null:{amount:e.amount?e.amount:this.amount,currency:e.currency?e.currency:this.currency}},e}();t.BiddingNode=n},420:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.adResponse=null,this.errorCode=null,this.errorDetailed=null,this.message=null}return e.prototype.getNodeResponse=function(e){var t=null;return null==e||(void 0===e.errorCode||null===e.errorCode?console.error("Web Technical Logger ErrorNode preparation: errorCode must be defined"):t={adResponse:e.adResponse?JSON.stringify(e.adResponse):this.adResponse,errorCode:e.errorCode,errorDetailed:e.errorDetailed?e.errorDetailed:this.errorDetailed,message:e.message?e.message:this.message}),t},e}();t.ErrorNode=n},333:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.type=1,this.container=1,this.url=null,this.bitrate=-1,this.width=-1,this.height=-1,this.duration=-1}return e.prototype.getNodeResponse=function(e){return null==e?null:{type:void 0!==e.type?e.type:this.type,container:e.container?e.container:this.container,url:e.url?e.url:this.url,bitrate:e.bitrate?e.bitrate:this.bitrate,width:e.width?e.width:this.width,height:e.height?e.height:this.height,duration:e.duration?e.duration:this.duration}},e}();t.MediaNode=n},882:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.siteId=null,this.pageId=null,this.pageName=null,this.formatId=null,this.target=null,this.expectedFormatType=-1,this.channelType=-1,this.templateFormatType=-1,this.insertionId=null,this.rtb=null}return e.prototype.getNodeResponse=function(e){var t=null;return null==e||(e.formatId&&(e.pageId||e.pageName)?t={siteId:e.siteId,pageId:e.pageId?e.pageId:this.siteId,pageName:e.pageName?e.pageName:this.pageName,formatId:e.formatId,target:e.target?e.target:this.target,expectedFormatType:e.expectedFormatType?e.expectedFormatType:this.expectedFormatType,channelType:e.channelType?e.channelType:this.channelType,templateFormatType:e.templateFormatType?e.templateFormatType:this.templateFormatType,insertionId:e.insertionId?e.insertionId:this.insertionId,rtb:e.rtb?JSON.stringify(e.rtb):this.rtb}:console.error("Web Technical Logger SmartNode preparation: formatId and pageId or pageName must be defined")),t},e}();t.SmartNode=n},570:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.type=null,this.percentage=-1}return e.prototype.getNodeResponse=function(e){return null==e?null:{type:e.type?e.type:this.type,percentage:e.percentage?e.percentage:this.percentage}},e}();t.ViewabilityNode=n},629:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;var n=function(){function e(){this.sas=window.sas=window.sas||{},this.sas.cmd=window.sas.cmd=window.sas.cmd||[],this.isDebug=this._isDebug()}return e.prototype.setEids=function(e){var t=this;"function"==typeof this.sas.setEids?this.sas.setEids([e]):this.sas.cmd.unshift((function(){return t.sas.setEids([e])}))},e.prototype._log=function(e,t){var n="background:#ffd500; border-radius:2px; color:#feffff; font-family:lato,sans-serif; padding:1px 3px;";"warning"===t?console.warn("%csmart",n,e):this.isDebug&&console.log("%csmart",n,e)},e.prototype._isDebug=function(){return"true"===("function"==typeof window.URLSearchParams?new URLSearchParams(window.location.search).get("sas_debug"):null)},e}();t.Global=n},791:function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Id5=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.partnerId=102,t}return r(t,e),t.prototype.init=function(e){var t={partnerId:this.partnerId};(null==e?void 0:e.pd)&&(t.pd=e.pd);var n=window.ID5.init(t);n.getUserId()&&this.setEids(n.getUserIdAsEid())},t}(n(629).Global);t.Id5=o},129:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SasIabApi=void 0;var n=function(){function e(e){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.hasAddtlConsent=!1,this.apiCallbacks={},this.name=e.name,this.sasCookieName=e.sasCookieName,this.sasAddtlCookieName=e.sasAddtlCookieName,this.version=e.version,this.getConsentFunction=e.getConsentFunction,this.apiFunctionName=e.apiFunctionName,this.consentObjectConsentDataName=e.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=e.consentObjectAdditionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessageReturnObjectName=e.postMessageReturnObjectName}return e.prototype.cmpCallback=function(e,t){if(t&&e&&void 0!==e[this.consentObjectConsentDataName]&&null!==e[this.consentObjectConsentDataName]){this.apiAnsweredOk=!0,this.consentObjectAdditionalConsentDataName&&e[this.consentObjectAdditionalConsentDataName]&&(this.hasAddtlConsent=!0);var n={consentObject:e,name:this.consentObjectConsentDataName};this.hasAddtlConsent&&(n.additionalConsent=this.consentObjectAdditionalConsentDataName),window.sas.events.fire("ApiAnswered Valid answer",n,this.name),window.sas.utils.setLocalStorageItemSafely(this.sasCookieName,e[this.consentObjectConsentDataName]),this.hasAddtlConsent&&window.sas.utils.setLocalStorageItemSafely(this.sasAddtlCookieName,e[this.consentObjectAdditionalConsentDataName])}else window.sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name)},e.prototype.callApiLocal=function(){var e=this,t=window[this.apiFunctionName];return void 0!==t&&"[object Function]"===Object.prototype.toString.call(t)&&(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),t(this.getConsentFunction,this.version,(function(t,n){e.cmpCallback(t,n)})),!0)},e.prototype.callApiInFrame=function(){for(var e,t,n,a,r,o,i=this,s=window;!e;){try{s.frames[this.apiLocator]&&(e=s)}catch(e){}if(s===window.top)break;s=s.parent}if(e){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);return this.eventMessageListenerAdded||(window.sas.events.addEvent(window,"message",(function(e){i.readPostMessageResponse(e)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),t=this.getConsentFunction,n=void 0,a=function(e,t){i.cmpCallback(e,t)},r="smartjs"+Math.random(),(o={})[i.sentMessage]={command:t,parameter:n,callId:r,version:i.version},i.apiCallbacks[r]=a,null==e||e.postMessage(o,"*"),!0}return!1},e.prototype.readPostMessageResponse=function(e){var t="string"==typeof e.data&&-1!==e.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(e.data):e.data;if(t[this.postMessageReturnObjectName]){var n=t[this.postMessageReturnObjectName];"function"==typeof this.apiCallbacks[n.callId]&&this.apiCallbacks[n.callId](n.returnValue,n.success,this.version)}},e.prototype.tryCallApi=function(e){this.callApiLocal()||(e%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())},e.prototype.searchApi=function(){var e=this,t=0,n="intervalCounterNumber"+this.name,a=window[n]=window.setInterval((function(){e.apiWasFound&&e.apiAnsweredOk||(t%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:t},e.name),e.tryCallApi(t)),(t>50||e.apiWasFound&&e.apiAnsweredOk)&&clearInterval(a),t++}),500)},e}();t.SasIabApi=n,window.SasIabApi=n},703:function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Liveramp=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atsPath="https://ats.rlcdn.com/ats.js",t.storageKey="sas__lr_env",t}return r(t,e),t.prototype.init=function(e){"number"==typeof e.placementID&&e.placementID?this.fetchId(e):this._log("LiveRamp ATS not initiated because of not valid placementID","warning"),this.readId()},t.prototype.fetchId=function(e){var t=this;(window.ats?Promise.resolve():new Promise((function(e){var n=document.createElement("script");n.onload=e,n.src=t.atsPath,document.head.appendChild(n)}))).then((function(){window.ats.start(e),t._log("LiveRamp ATS initiated"),window.ats.retrieveEnvelope().then((function(e){e&&window.localStorage.setItem(t.storageKey,JSON.parse(e).envelope)}))}))},t.prototype.readId=function(){var e=window.localStorage.getItem(this.storageKey);e&&this.setEids({source:"liveramp.com",uids:[{id:e}]})},t}(n(629).Global);t.Liveramp=o},499:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SwlTypes=t.SwlDefaultConfiguration=t.SasWebLogger=void 0;var a=n(464),r=function(e){var n=this;this.log=function(e,a,r){var i=r.smart;t.SwlTypes.includes(e)||(e="info"),o.includes(a)||(a=""),("number"==typeof i.pageId||"string"==typeof i.pageName&&""!==i.pageName)&&n.logger.log(e,a,r)},this.logger=new a.WebTechnicalLogger(e)};t.SasWebLogger=r;var o=["ad_response","error_response","noad_response","timeout_response"];t.SwlDefaultConfiguration={clientToken:"pubbcfecde340a05af2aa9cad46f8c050f2",source:"smartjs",tags:"smartjs",service:"smartjs",host:"FRONT-DDLOG-HOST",endpoint:"smartjs",minLogLevel:"error",samplingRate:{debug:1e5,info:1e4,warning:1e3,error:100}},t.SwlTypes=["debug","error","info","warning"]}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}var a,r,o,i;a=n(791),r=n(703),o=n(129),i=n(499),(new(function(){function e(){}return e.prototype.initCmp=function(){var e=new o.SasIabApi({name:"CMP V2",version:2,apiFunctionName:"__tcfapi",getConsentFunction:"addEventListener",sasCookieName:"sas_euconsent_v2",sasAddtlCookieName:"sas_addtl_euconsent_v2",consentObjectConsentDataName:"tcString",consentObjectAdditionalConsentDataName:"addtlConsent",apiLocator:"__tcfapiLocator",sentMessage:"__tcfapiCall",postMessageReturnObjectName:"__tcfapiReturn"}),t=new o.SasIabApi({name:"CCPA",version:1,apiFunctionName:"__uspapi",getConsentFunction:"getUSPData",sasCookieName:"sas_usprivacy",consentObjectConsentDataName:"uspString",apiLocator:"__uspapiLocator",sentMessage:"__uspapiCall",postMessageReturnObjectName:"__uspapiReturn"});e.searchApi(),t.searchApi()},e.prototype.initLogger=function(){var e=i.SwlDefaultConfiguration;void 0!==window.sas_ddMinLogLevel&&i.SwlTypes.includes(window.sas_ddMinLogLevel)&&(e.minLogLevel=window.sas_ddMinLogLevel),e.host=window.location.host,window.sas.sasWebLogger=new i.SasWebLogger(e)},e.prototype.initModules=function(e){void 0!==window.sas_useID5Module&&!0===window.sas_useID5Module&&(new a.Id5).init(null==e?void 0:e.id5),void 0!==window.sas_useLiverampModule&&!0===window.sas_useLiverampModule&&e&&e.liveramp&&"undefined"!=typeof Promise&&(new r.Liveramp).init(e.liveramp)},e.prototype.init=function(){var e,t,n=this;null===(t=null===(e=null===window||void 0===window?void 0:window.sas)||void 0===e?void 0:e.events)||void 0===t||t.on("setupCalled",(function(e){return n.initModules(null==e?void 0:e.modules)}),"setupCalledId"),this.initCmp(),this.initLogger()},e}())).init()}(),function(e,t){if(!sas.__smartLoaded){sas.__smartLoaded=!0;var n=function(e){var t=this;t.instances=[],sas.events.on("ad",(function(){t._onAd.apply(t,arguments)}),e),sas.events.on("load",(function(){t._onLoad.apply(t,arguments)}),e),sas.events.on("noad",(function(){t._onNoad.apply(t,arguments)}),e),sas.events.on("error",(function(){t._onError.apply(t,arguments)}),e),sas.events.on("beforeRender",(function(){t._beforeRender.apply(t,arguments)}),e),sas.events.on("beforeFetch",(function(){t._beforeFetch.apply(t,arguments)}),e),sas.events.on("hbRender",(function(){t._hbRender.apply(t,arguments)}),e)};n.prototype.onCall=function(e,t,n){this.callType=e,this.ad=t,this.options=n},n.prototype.reset=function(e,t){if(this.displayData=null,this.hbRenderUrls=null,e?this.renderStatus=null:"rendered"==this.renderStatus&&(this.renderStatus="pending"),sas.events.fire("reset",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hardReset:e},this.ad.tagId),t)for(var n=0;n<this.instances.length;n++)this.instances[n].reset(e)},n.prototype.setHeaderBiddingWinner=function(e){this.headerBidding=e},n.prototype._onLoad=function(){var n=t.getElementById(this.ad.tagId);n&&(this.hasAd=this.hasAd||n.childNodes.length>1,e.sas_loadHandler&&e.sas_loadHandler({id:this.ad.formatId,hasAd:this.hasAd}),this.options&&this.options.onLoad&&this.options.onLoad({formatId:this.ad.formatId,tagId:this.ad.tagId,hasAd:this.hasAd}))},n.prototype._beforeRender=function(e){this.options&&this.options.beforeRender&&this.options.beforeRender(e)},n.prototype._beforeFetch=function(e){this.options&&this.options.beforeFetch&&this.options.beforeFetch(e)},n.prototype._onError=function(e){this.options&&this.options.onError&&this.options.onError(e)},n.prototype._onNoad=function(e){var t=this.ad,n={smart:{siteId:t.siteId,pageId:t.pageId,pageName:t.pageName,formatId:t.formatId,tagId:t.tagId,target:t.target}};this.callType==sas.callType.ONECALL&&t.isOnecallJSON?this.displayData.scriptNoad&&((new Image).src=this.displayData.scriptNoad):this.callType==sas.callType.ONECALL&&sas_manager&&sas_manager.noad(t.formatId),e.hbRenderUrls&&e.hbRenderUrls.hbRenderFailedUrl&&(this.hbRenderUrls=e.hbRenderUrls,e.hbRenderUrls=null),this.options&&this.options.onNoad&&this.options.onNoad(e),sas.sasWebLogger.log("info","noad_response",n)},n.prototype._onAd=function(e){var t=this.ad,n={smart:{siteId:t.siteId,pageId:t.pageId,pageName:t.pageName,formatId:t.formatId,tagId:t.tagId,target:t.target}};this.hasAd=!0,this.options&&this.options.onAd&&this.options.onAd(e),sas.sasWebLogger.log("info","ad_response",n)},n.prototype.clean=function(){var e=t.getElementById(this.ad.tagId);this.options&&this.options.onClean&&this.options.onClean(this.ad.formatId,e),sas.events.fire("clean",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId},this.ad.tagId),e&&(e.innerHTML="")},n.prototype._hbRender=function(e){this.hbRenderUrls&&(e.success?(new Image).src=this.hbRenderUrls.hbRenderSuccessUrl:(new Image).src=this.hbRenderUrls.hbRenderFailedUrl,this.hbRenderUrls=null)},n.prototype.render=function(){var e=this;if("rendered"!=this.renderStatus)if(this.displayData){this.renderStatus="rendered",this.clean();var n={formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId};this.displayData.hbRenderFailedUrl&&(n.hbRenderUrls={hbRenderFailedUrl:this.displayData.hbRenderFailedUrl,hbRenderSuccessUrl:this.displayData.hbRenderSuccessUrl}),sas.events.fire("beforeRender",n,e.ad.tagId);var a=function(){sas.events.fire("load",n,e.ad.tagId)},r=function(){sas.events.fire("error",n,e.ad.tagId),sas.events.fire("noad",n,e.ad.tagId)};if(!this.displayData.scriptType)return sas.events.fire("load",n,this.ad.tagId),void sas.events.fire("noad",n,this.ad.tagId);var o=t.getElementById(this.ad.tagId);if(o){switch(this.displayData.scriptType){case"iframe":U(o,this,this.options.async,a,r);break;case"script":var i=X(o.id);i&&(this.displayData.scriptNoad=K(this.displayData.scriptNoad,i)),q(o,this.displayData.scriptSrc,this.options.async,a,r,i);break;case"passback":sas.passback({formatId:this.ad.formatId,tagId:this.ad.tagId,chain:this.displayData.chain});break;case"content":G(o,this),a();break;default:throw new Error("Unsupported script type "+this.displayData.scriptType)}sas.events.fire("render",n,this.ad.tagId)}else sas.events.fire("error",n,this.ad.tagId)}else this.renderStatus="pending"};var a=function(){},r=!1,o=function(){return Math.round(1e10*Math.random())},i="http://www.smartadserver.com",s=i,c=o(),l=!0,d=encodeURIComponent,u=decodeURIComponent,p=0,f=!1,h=0,g=!1,v=null,m=null,y=null,b={},I=[],w=[],C={},_={},S={},D=null;sas._networks=sas._networks||{},sas._pendingCommands=sas._pendingCommands||{};var k={};sas.callType={STD:"std",IFRAME:"iframe",ONECALL:"onecall",XML:"xml",PASSBACK:"passback"},sas.renderMode={DEFAULT:0,READY:1,ON_DEMAND:2};var L=!1,T=[],A={onLoad:a,onError:a,onClean:a,beforeRender:a};sas.events.on("call",(function(e){var t=b[e.ad.tagId],n=he[e.ad.tagId]?he[e.ad.tagId]:fe;de.mode&&de.modeReady&&(null===de.tagId&&de.formatId===e.ad.formatId||de.tagId==e.ad.tagId)?R(e.ad.formats):(se("Make a std call ",e),e.ad.usePostStandard?n.addListener((function(){N(e)})):t.displayData={scriptType:"script",scriptSrc:Y(e.callType,e.ad,e.options)}),n.addListener((function(){t.render()}))}),sas.callType.STD),sas.events.on("call",(function(e){var t=b[e.ad.tagId];de.mode&&de.modeReady&&de.formatId===e.ad.formatId?R(e.ad.formats):(se("Make a iframe call ",e),t.displayData={scriptType:"iframe",scriptSrc:Y(e.callType,e.ad,e.options),width:e.ad.width||0,height:e.ad.height||0}),fe.addListener((function(){t.render()}))}),sas.callType.IFRAME),sas.events.on("call",(function(e){if(de.mode&&de.modeReady&&e.hasOwnProperty("ad")&&e.ad.hasOwnProperty("formats")){for(var t=e.ad.formats,n=-1,a=0;a<t.length;a++)Number(t[a].id)===de.formatId&&(n=a);n>-1?(R(e.ad.formats),t.splice(n,1),e.ad.formats=t):se("Format id for preview doesn't exist in the onecall formats list")}se("Make a onecall for formats ",e),fe.addListener((function(){e.ad.isOnecallJSON?E(e):O(e)}))}),sas.callType.ONECALL);var O=function(e){var n=Y(e.callType,e.ad,e.options)(),a=t.getElementsByTagName("head")[0],r=null;a&&a.id&&(r=X(a.id)),q(a,n,e.options.async,(function(){for(var t in sas_manager.formats){if(s=j(t.substring(1))){var n=sas_manager.formats[t];r&&(s.displayData.scriptNoad=K(s.displayData.scriptNoad,r)),s.options.async||n.chain?s.displayData={scriptType:n.scriptType(),scriptSrc:n.scriptSrc(),chain:n.chain,width:"iframe"==n.scriptType()?n.scriptWidth():0,height:"iframe"==n.scriptType()?n.scriptHeight():0}:s.displayData=me(n.scriptURL()),s.displayData.scriptSrc&&(s.displayData.scriptSrc=function(e){return function(){return Te(e)}}(s.displayData.scriptSrc))}}var a={};for(var o in e.ad.formats)a[e.ad.formats[o].id]=!0;for(var i in b){var s;a[(s=b[i]).ad.formatId]&&(s.displayData=s.displayData||{},"pending"==s.renderStatus&&s.render())}}),e.options.onError,r)},E=function(e){fe.addListener((function(){var t=z(e.ad,e.options,e.callType);!function(e,t,n,a,r){Ie(e,t,n,a,r,JSON.parse,"application/json")}(J(e.ad,e.options,e.callType),t,(function(e){for(var t in e){var n=j(t);if(n){var a=e[t];n.displayData={hbRenderFailedUrl:a.HbRenderFailedUrl,hbRenderSuccessUrl:a.HbRenderSuccessUrl,scriptType:a.ScriptType,scriptSrc:a.ScriptSrc,scriptNoad:a.ScriptNoad,contentType:a.ContentType,content:a.Content,chain:a.Chain,width:a.ScriptWidth,height:a.ScriptHeight},n.displayData.scriptSrc&&(n.displayData.scriptSrc=function(e){return function(){return Te(e)}}(n.displayData.scriptSrc)),"pending"==n.renderStatus&&n.render()}}}),e.options.onError,e.options.domain)}))},N=function(e){fe.addListener((function(){var t=z(e.ad,e.options,e.callType);!function(e,t,n,a,r){Ie(e,t,n,a,r,(function(e){return e}),"application/javascript")}(J(e.ad,e.options,e.callType),t,(function(t){var n=e.ad.tagId,a=j(n);a&&(a.displayData={scriptType:"content",contentType:"application/javascript",content:t},"pending"==a.renderStatus&&(he[n]?he[n].addListener(function(){this.render()}.bind(a)):a.render()))}),e.options.onError,e.options.domain)}))},R=function(n){if(null==de.tagId&&n.length)for(var a=0;a<n.length;a++)if(Number(n[a].id)===de.formatId){de.tagId=n[a].tagId;break}se("Preview mode is active, make a preview call for formatId "+de.formatId+" / tagId "+de.tagId),se("Call preview ",de.url),e.sas_ajax=!0;var r=e.location.protocol+de.url+"insid="+de.insertionId+"&ruid="+de.ruid+"&tag="+de.tagId+"&timestamp="+Date.now(),o=t.createElement("script");o.id="sas_script"+B++,o.type="text/javascript",o.src=r,o.async=!0,t.getElementById(de.tagId)?t.getElementById(de.tagId).appendChild(o):t.getElementsByTagName("head")[0].appendChild(o)},x="invalid site id",F="invalid page id or name",M="invalid format id",P=function(e){throw new Error(e)};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var j=function(e){var t=b[e=""+e]||b["sas_"+e];if(t)return t;var a=e.split("_"),r=a.slice(0,a.length-1).join("_");if(a.length>1&&!isNaN(a[a.length-1])&&(t=b[r]||b["sas_"+r])){var o=parseInt(a[a.length-1]),i=t.ad.tagId+"_"+o,s=new n(i);return s.onCall(t.callType,sas.utils.extend({},t.ad,{tagId:i,instance:o}),t.options),t.instances.push(s),b[i]=s,s}return null},U=function(e,n,a,r,o){var i=t.createElement("iframe");i.id="sas_i_"+n.ad.formatId+(n.ad.instance?"_"+n.ad.instance:""),i.scrolling="no",i.frameBorder=0,i.width=n.displayData.width,i.height=n.displayData.height,i.style.margin=0,i.style.padding=0,i.style.width=n.displayData.width+"px",i.style.height=n.displayData.height+"px";var s="function"==typeof n.displayData.scriptSrc?n.displayData.scriptSrc():n.displayData.scriptSrc,c=X(e.id);void 0!==c&&(s=K(s,c),n.displayData.scriptNoad=K(n.displayData.scriptNoad,c)),i.src=s,a?(sas.events.addLoadEvent(i,r),sas.events.addEvent(i,"error",o)):(i.setAttribute("onload",V(r)+"()"),i.setAttribute("onError",V(o)+"()")),n.options.async?e.appendChild(i):t.write(i.outerHTML)},B=1,W=function(e,n,a){var r=t.createElement("script");r.id="sas_script"+B++,r.type="text/javascript",r.text=n,a?e.appendChild(r):t.write(r.outerHTML)},G=function(e,n){switch(n.displayData.contentType){case"application/javascript":W(e,n.displayData.content,n.options.async);break;case"text/html":!function(e,n){var a=t.createElement("iframe");a.id="sas_i"+n.ad.formatId+(n.ad.instance?"_"+n.ad.instance:""),a.scrolling="no",a.frameBorder=0,a.width=n.displayData.width,a.height=n.displayData.height,a.style.margin=0,a.style.padding=0,a.style.width=n.displayData.width+"px",a.style.height=n.displayData.height+"px",e.appendChild(a),a.contentWindow.document.open("text/html","replace"),a.contentWindow.document.write(n.displayData.content),a.contentWindow.document.close()}(e,n)}},H=1,V=function(t){var n="__sas_gcbk_"+H++;return e[n]=function(){e[n]&&(e[n]=void 0,t())},n},q=function(e,n,a,r,o,i){var s=t.createElement("script");s.id="sas_script"+B++,s.type="text/javascript";var c="function"==typeof n?n():n;i&&(c=K(c,i)),s.src=c,s.async=a,a?(sas.events.addLoadEvent(s,r),sas.events.addEvent(s,"error",o)):(s.setAttribute("onload",V(r)+"()"),s.setAttribute("onError",V(o)+"()")),a?e.appendChild(s):t.write(s.outerHTML)},z=function(t,n,a){n=sas.utils.extend({forceMasterFlag:!1},n),l=!!n.forceMasterFlag||l,c=n.resetTimestamp?o():c,a==sas.callType.ONECALL&&Q();var r=$(),i=Le()||(e.location.origin?e.location.origin+e.location.pathname:""),s=screen.height,d=screen.width;return function(e,t,n,a,r,o,i){var s={timestamp:n,networkId:r.networkId,getAdContent:r.getAdContent,siteId:e.siteId,pageId:e.pageId,pageName:e.pageName,master:t,noAdCallback:"sas.noad",pageUrl:a,screen:{height:o,width:i},uid:v||0,appName:m||"",bundleId:y||"",noCookie:r.noCookie,schain:e.schain||"",clickTrackingUrl:r.clickTrackingUrl,clickTrackingEncodingLevel:r.clickTrackingEncodingLevel,ads:[]},c=Ce();c&&(s.gdpr_consent=c);var l=we();l&&(s.addtl_consent=l);var d=_e();d&&(s.us_privacy=d);var u=function(e){return e.length&&"object"==typeof e[0]&&e[0].source&&e[0].uids&&e[0].uids.length?e:null}(w);u?s.eids=u:sas.events.history("setEidsCalled").length&&console.warn("The eids object is malformed, no eids will be sent in the adcall");_&&(s.partnerExtUids=_);for(var p=0;p<e.formats.length;p++){var f=e.formats[p],h=f.tagId?f.tagId:"sas_"+f.id,g=X(h)||{};s.ads.push({formatId:f.id,originalFormatId:f.originalFormatId,tagId:h,bidfloor:f.overriddenBidfloor,target:e.target,currency:f.currency,headerBidding:g,isLazy:!!Se(f.id),isAdRefresh:De(f.id)})}return s}(t,r,c,i,n,s,d)},J=function(e,t,n){return t.domain+"/"+(n==sas.callType.ONECALL?t.networkId+"/call":"genericpost")},Y=function(t,n,a){a=sas.utils.extend({forceMasterFlag:!1},a),l=!!a.forceMasterFlag||l,c=a.resetTimestamp?o():c,t==sas.callType.ONECALL&&Q();var r=$(),i=Le()||(e.location.origin?e.location.origin+e.location.pathname:""),s=screen.height,d=screen.width;return function(){return sas.utils.buildUrl(a.domain,t,n,r,c,a.async,a.networkId,v,m,y,i,_,X(n.tagId),a.clickTrackingUrl,a.clickTrackingEncodingLevel,s,d)}},K=function(e,t){return null!=t&&(e+="&hb_cpm="+t.cpm+"&hb_bid="+t.bidder+"&hb_ccy="+t.currency+"&hb_dealid="+t.dealId),e},X=function(e){if(S[e]){if(!isNaN(S[e].cpm)){var t=S[e];return S[e]=void 0,t}return S[e]=void 0,null}return null},$=function(){return Q()?"m":"s"},Q=function(){return!!l&&(l=!1,!0)},Z=function(e,n){var a,o,i=t.getElementById(e);if(!i&&(n||!r)){var s=t.currentScript||t.scripts[t.scripts.length-1];s.async||(s.parentNode.insertBefore((a=e,(o=t.createElement("div")).id=a,o),s),i=t.getElementById(e))}return i||console.warn("The tag element with id="+e+" wasn't found and couldn't be created as well!"),i},ee=function(n,a){if(he.hasOwnProperty(n)||(he[n]=new sas.utils.Latch(["loaded","smartLazyLoading"+n]),fe.addListener((function(){for(var e in he)he[e].notify("loaded")}))),sas.lazyLoading&&sas.lazyLoading.formats&&(0===sas.lazyLoading.formats.length||sas.lazyLoading.formats.length&&-1!==sas.lazyLoading.formats.indexOf(parseInt(a)))){var r=null;e.IntersectionObserver&&(r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.intersectionRatio>0||e.isIntersecting){var n=e.target.id;t.unobserve(e.target),he.hasOwnProperty(n)&&he[n].notify("smartLazyLoading"+n)}}))}),{rootMargin:sas.lazyLoading.margin})),r&&r.observe(t.getElementById(n))}else he[n].notify("smartLazyLoading"+n)},te=[];sas.events.addLoadEvent(t,(function(){r=!0,te.push=function(e){e()};for(var e=0;e<te.length;e++)te[e]()}));var ne=!1;sas.events.addMessageEvent(e,(function(){if(arguments&&!(arguments.length<1)){var e=arguments[0];if(e&&e.data&&"string"==typeof e.data&&!(e.data.indexOf("SMRT")<0)){var t=e.data.split(" ");if(!(t.length<2)){var n=t[2]||"";if("sas.noad"===t[1]||"NOAD"===t[1])try{sas.noad(n)}catch(e){}}}}}));var ae,re=function(e,t){if(!e)return!1;if(!t)return!1;var n,a=sas._networks[t.networkId];return!!(a&&a.f&&a.f[e.formatId]&&(n=a.f[e.formatId],Math.random()<n))},oe=function(t){return"function"==typeof e.URLSearchParams?new URLSearchParams(e.location.search).get(t):null},ie=function(e){var t=oe(e);return t=null!==t&&t.length?Number(t):null},se=function(e,arguments,t){var n=void 0===t?"info":t;if(ce&&e.length&&void 0!==console[n]){var a={txt:"%csmart",css:"background: #ffd500; border-radius: 2px; color: #feffff; font-family: lato,sans-serif; padding:1px 3px;"};void 0!==arguments?console[n](a.txt,a.css,e,arguments):console[n](a.txt,a.css,e)}},ce=!1,le=function(){var e=oe("sas_debug");null!==e&&(ce="true"===e)},de={mode:!1,modeReady:!1,url:"//www.saspreview.com/current/Utilities/noshow.ashx?",ruid:null,formatId:null,tagId:null,insertionId:null},ue=function(){var e=oe("sas_preview");null!==e&&(de.mode="true"===e,de.mode&&(de.modeReady=(de.insertionId=ie("insid"),de.ruid=ie("ruid"),de.formatId=ie("formatId"),de.tagId=oe("tagId"),null!==de.insertionId&&null!==de.ruid&&null!==de.formatId?(se("Preview mode is active, we have required parameters"),!0):(se("Preview mode is active, but some required parameters are missing"),se("Preview insertionId ",de.insertionId),se("Preview ruid ",de.ruid),se("Preview formatId ",de.formatId),!1))))},pe=!1,fe=new sas.utils.Latch(["loaded"]),he={};sas.setup=function(t){if(pe)throw new Error("sas.setup can only be called once");sas.events.fire("setupCalled",t,"setupCalledId"),le(),ue(),pe=!0,s=(t=t||{}).domain||i,f=t.async||f,sas_ajax=f,p=t.networkid||p,h=t.renderMode||h,g=t.inSequence||g,v=t.uid,_=sas.utils.extend(_,t.partnerIds),y=t.bundleId,m=t.appName,e.sas_renderMode=h,sas.configure({id:p}),f&&h!=sas.renderMode.DEFAULT||fe.notify("loaded"),h==sas.renderMode.ON_DEMAND&&(ae=setTimeout((function(){sas.render()}),parseInt(t.renderModeTimeout)||5e3))},sas.call=function(t,a,r){"string"!=typeof t&&(r=sas.utils.extend({},a,{async:!0}),a=t,t="std",h==sas.renderMode.DEFAULT&&fe.notify("loaded"),le(),ue()),r=sas.utils.extend({},r),t==sas.callType.ONECALL?a.isOnecallJSON=!!a.formats:t==sas.callType.STD&&(a.usePostStandard=!!e.sas_usePostStandard),(a.isOnecallJSON||a.usePostStandard)&&(r.async=!0),(a=sas.utils.extend({},a)).siteId=a.siteId||a.siteid,a.pageId=a.pageId||a.pageid,a.pageName=a.pageName||a.pagename,a.formatId=a.formatId||a.formatid,a.siteId||P(x);var o,i,c=(o=navigator.userAgent.indexOf("iPad")>0,i=""+navigator.userAgent.indexOf("iPhone")>0,o||i?o?"ipad":"iphone":navigator.userAgent.indexOf("Android")>0?"android":"");if(c.length>0&&(a.target&&a.target.length>0&&(a.target+=";"),a.target+="platform="+c),a.pageId||a.pageName||P(F),a.formatId||a.formats||P(M),(r=sas.utils.extend({},A,{async:f,domain:s,networkId:p},r))&&r.networkId){var l=parseInt(r.networkId);if(l>0&&!sas._networks[l])return sas._pendingCommands[l]=sas._pendingCommands[l]||[],void sas._pendingCommands[l].push((function(){sas.call(t,a,r)}))}if(!re(a,r)){if(!a||!a.siteId||!a.pageId&&!a.pageName||!a.formatId&&!a.formats)throw new Error("Missing parameter(s)");if(!a.formats){a.formats=[];for(var d=(""+a.formatId).replace(/\s/g,"").split(","),u=0;u<d.length;u++)a.formats.push({id:d[u]})}for(u=0;u<a.formats.length;u++){var v=a.formats[u];t==sas.callType.STD||t==sas.callType.IFRAME?(a.tagId=v.tagId=a.tagId||v.tagId||"sas_"+v.id,Z(a.tagId,r.async)):v.tagId=v.tagId||"sas_"+v.id;var m=b[v.tagId]||new n(v.tagId);m.onCall(t,sas.utils.extend({},a,{tagId:v.tagId,formatId:v.id,originalFormatId:v.id}),r),m.reset(!!r.reset,t==sas.callType.ONECALL),b[v.tagId]=m,sas.lazyLoading&&f&&t==sas.callType.STD&&ee(v.tagId,v.id)}r.async&&h==sas.renderMode.READY&&(ne||(ne=!0,te.push((function(){sas.render()})))),a.passback||I.push({callType:t,ad:sas.utils.extend({},a),options:sas.utils.extend({},r)}),r.async&&g?fe.addListener((function(){var e,n;e={callType:t,ad:a,options:r},n=function(){if(T.length>0){L=!0;var e=T.shift(),t=e.options.onLoad;e.options.onLoad=function(e){n(),t(e)},sas.events.fire("call",{callType:e.callType,ad:e.ad,options:e.options},e.callType)}else L=!1},T.push(e),L||n()})):sas.events.fire("call",{callType:t,ad:a,options:r},t)}},sas.passback=function(e){var t=e.tagId?e.tagId:"sas_"+e.formatId;if(C[t]={current:-1,ad:e},e.noadUrl){var n=function(){(new Image).src=e.noadUrl,sas.events.off("noad",n,t)};sas.events.on("noad",n,t)}sas.next(t)},sas.next=function(e){var n=j(e),a=C[n.ad.tagId];if(n&&a){var r=t.getElementById(n.ad.tagId);if(r&&(r.innerHTML=""),a.current>=0&&((new Image).src=a.ad.chain[a.current].noadUrl),a.current++,a.current<a.ad.chain.length)if(a.ad.chain[a.current].countUrl&&((new Image).src=a.ad.chain[a.current].countUrl),a.ad.chain[a.current].script)W(r,a.ad.chain[a.current].script,n.options.async);else{var o=X(r.id);q(r,a.ad.chain[a.current].scriptUrl,n.options.async,null,null,o)}else sas.events.fire("noad",{formatId:n.ad.formatId,instance:n.ad.instance,tagId:n.ad.tagId},n.ad.tagId)}};var ge={forceMasterFlag:!1,resetTimestamp:!0,target:void 0,autoRefresh:!1};sas.refresh=function(e,t){if(fe.isComplete()){t=sas.utils.extend({},ge,e,t);var n=a;if(arguments.length<=1&&"string"!=typeof e&&isNaN(e))n=function(e){for(var n in b)b[n].reset(),k[b[n].ad.formatId]=t.autoRefresh;for(n=0;n<I.length;n++)I[n].options.async&&(e&&(I[n].ad.target=e),sas.events.fire("call",{callType:I[n].callType,ad:sas.utils.extend({},I[n].ad,{target:e}),options:sas.utils.extend({},I[n].options,t)},I[n].callType))};else{var r=j(e);if(!r||!r.options.async)return;k[r.ad.formatId]=t.autoRefresh,r.reset(),n=function(e){null!=e&&(r.ad.target=e||r.ad.target),sas.events.fire("call",{callType:sas.callType.STD,ad:r.ad,options:r.options},sas.callType.STD)}}l=!!t.forceMasterFlag||l,c=t.resetTimestamp?o():c,n(t.target)}},sas.getTag=function(e){var n=j(e);return n?t.getElementById(n.ad.tagId):null},sas.clean=function(e){if(0==arguments.length)for(var t in b){var n;(n=b[t]).clean()}else(n=j(e))&&n.clean()},sas.noad=function(e,t){var n=j(e);if(n){var a={formatId:n.ad.formatId,instance:n.ad.instance,tagId:n.ad.tagId};t&&(a.hbRenderUrls={hbRenderFailedUrl:t.HbRenderFailedUrl,hbRenderSuccessUrl:t.HbRenderSuccessUrl}),sas.events.fire("noad",a,n.ad.tagId)}},sas.render=function(n){if(0==arguments.length){if(clearTimeout(ae),!fe.isComplete()&&(h==sas.renderMode.READY&&r||h==sas.renderMode.ON_DEMAND))for(var a in fe.notify("loaded"),b){var o;"pending"!=(o=b[a]).renderStatus||!o.options.async&&r||o.render()}}else if(o=j(n)){a=o.ad.tagId;if(Z(a,o.options.async),sas.lazyLoading&&sas.lazyLoading.formats&&(-1!==sas.lazyLoading.formats.indexOf(Number(o.ad.originalFormatId))||0===sas.lazyLoading.formats.length)){var i=null;e.IntersectionObserver&&(i=new IntersectionObserver((function(e,t){e.forEach((function(e){(e.intersectionRatio>0||e.isIntersecting)&&(t.unobserve(e.target),sas.events.fire("beforeFetch",o),sas.lazyLoading.event?sas.events.on(sas.lazyLoading.event,(function(){o.render()}),a):o.render())}))}),{rootMargin:sas.lazyLoading.margin})),i?i.observe(t.getElementById(a)):o.render()}else o.render()}},sas.enableLazyLoading=function(t){f||console.warn("If lazy loading is not working, please make sure you enable it for asynchronous calls");var n={};n.formats=t.formats||[];var a=void 0!==e.orientation||-1!==navigator.userAgent.indexOf("IEMobile")?t.mobileFetchRatio||.8:t.fetchRatio||.1;n.margin=Math.round(100*(isNaN(a)||a<0?.1:a))+"%",n.event=t.event||null,sas.lazyLoading=n},sas.setPartnerId=function(e,t){_[e]=t},sas.appendHtml=function(e,n){var a=t.getElementById(e);if(Range&&Range.prototype.createContextualFragment)a.appendChild(t.createRange().createContextualFragment(n));else{var r=t.createElement("div");r.innerHTML=n;for(var o=r.childNodes,i=0;i<o.length;i++)a.appendChild(ke(o[i]))}},sas.configure=function(e){if(e&&e.id&&!(parseInt(e.id)<=0)&&!sas._networks[e.id]&&(sas._networks[e.id]=e,sas._pendingCommands[e.id]))for(var t;t=sas._pendingCommands[e.id].shift();)t()},sas.setEids=function(e){"object"==typeof e&&(w=w.concat(e)),sas.events.fire("setEidsCalled",{})},sas.setHeaderBiddingWinner=function(e,t){S[e]=null==t||"object"!=typeof t?null:{bidder:t.bidder,cpm:t.cpm,currency:t.currency,dealId:t.dealId},sas.events.fire("setHeaderBiddingWinner",{tagId:e,headBiddingData:sas.utils.extend({},S[e])},e)},sas.hbRenderSuccess=function(e){sas.events.fire("hbRender",{success:!0},e)},sas.hbRenderFailed=function(e){sas.events.fire("hbRender",{success:!1},e)},sas.setGdprConsentData=function(e){D=e},sas.utils.buildUrl=function(e,t,n,a,r,o,i,s,c,l,u,p,f,h,g,v,m){var y={};if(null!=i&&(y.nwid=i),y.siteid=n.siteId,y.pgid=n.pageId,y.pgname=n.pageName,y.fmtid=n.formatId,t==sas.callType.IFRAME&&(y.out="iframe"),o&&(y.async=1),t!=sas.callType.ONECALL){var b=a.split("=");y.visit=b.length>1?b[1]:a}else y.oc=1;for(var I in y.tmstp=r,n.target&&(y.tgt=d(n.target)),t!=sas.callType.ONECALL&&(y.orgfmtid=n.originalFormatId,y.tag=n.tagId),s&&(y.uid=s),c&&(y.appname=c),l&&(y.buid=l),v&&(y.sh=v),m&&(y.sw=m),u&&(y.pgDomain=d(u)),f&&t!=sas.callType.ONECALL&&(y.hb_bid=f.bidder,y.hb_cpm=f.cpm,y.hb_ccy=f.currency,y.hb_dealid=f.dealId),h&&(y.clcturl=d(h)),g&&(y.clctenc=g),p)y[encodeURIComponent("extuid-"+I)]=encodeURIComponent(p[I]);var w=Ce();w&&(y.gdpr_consent=w);var C=we();C&&(y.addtl_consent=C);var _=_e();_&&(y.us_privacy=_),y.noadcbk="sas.noad",n.schain&&(y.schain=n.schain),y.isLazy=Se(n.formatId),y.isAdRefresh=De(n.formatId);var S=[];for(var D in y)null!=y[D]&&S.push(D+"="+y[D]);return e+"/ac?"+S.join("&")};var ve=function(e,t,n){var a=e.indexOf("/");if(a<0)throw new Error("Invalid argument : sas_pageid");this.siteId=e.substring(0,a);var r=e.substring(a+1);0==r.indexOf("(")&&r.indexOf(")")==r.length-1&&(r=r.slice(1,r.length-1));var o=parseInt(r);o+""==r?this.pageId=o:this.pageName=r,this.formatId=t,this.target=n};e.sas_ads=sas,e.sas_ajax=!1,e.sas_manager=null,e.sas_unrenderedFormats=[],e.sas_callAd=sas.callAd,e.sas_callAds=sas.callAds,sas.callAd=sas.refresh,sas.callAds=function(){fe.isComplete()?sas.refresh():sas.render()},sas.cleanAd=sas.clean,sas.cleanAds=sas.clean;var me=function(e){var n=t.createElement("div");n.innerHTML="_"+e;var a=n.childNodes[1];return{scriptType:a.tagName.toLowerCase(),scriptSrc:a.src,width:a.width||0,height:a.height||0}};e.sas_render=function(e,t,n,a,r){sas.render(e)},e.SmartAdServerAjaxOneCall=function(e,t){sas.render(t)},e.SmartAdServer_iframe=function(e,t,n,a,r){var o=new ve(e,t,n);o.width=a,o.height=r,sas.call("iframe",o)},e.SmartAdServer=function(e,t,n){var a=new ve(e,t,n);sas.call(sas.callType.STD,a)},e.SmartAdServerAjax=SmartAdServer,e.sas_gcf=function(e){return t.getElementById("sas_"+e)},e.sas_appendToContainer=function(e,n){var a=t.getElementById("sas_"+e);if(a){if("string"==typeof n){var r=t.createElement("div");r.innerHTML=n,n=r}a.appendChild(n)}},e.sascc=function(e,t){(new Image).src=s+"/h/mcp?imgid="+e+"&pgid="+t+"&uid=[uid]&tmstp="+c+"&tgt=[targeting]"},e.sasmobile=function(e,t,n){var a=new ve(e,t,n);sas.call(sas.callType.STD,a)};var ye={};e.sas_addCleanListener=function(e,t){ye[e]=t},sas.events.on("clean",(function(e){ye[e.tagId]&&ye[e.tagId](),ye[e.formatId]&&ye[e.formatId]()})),e.sas_cleanAds=sas.clean,e.sas_cleanAd=sas.clean,sas.events.fire("Bootstrap",{time:"Start"}),sas.cmd=sas.cmd||[],sas.cmd.push=function(e){e()};for(var be=0;be<sas.cmd.length;be++)sas.cmd[be]();sas.events.fire("Bootstrap",{time:"End"})}function Ie(t,n,a,r,o,i,s){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==this.readyState){var e=i(this.responseText);200==this.status?a(e):r(e)}},c.withCredentials=!0;var l=!0;try{c.open("POST",t,!0)}catch(e){if(l=!1,sas.utils.getIEVersion()<=9&&-2147024891==e.number){var d=new XDomainRequest;d.open("POST",t),d.ontimeout=function(){r()},d.onerror=function(){r()},d.onload=function(){var e=JSON.parse(this.responseText);a(e)},d.send(JSON.stringify(n))}}l&&(c.setRequestHeader("content-type",s),!(!e.chrome||!e.chrome.webstore&&!e.chrome.runtime)&&c.setRequestHeader&&c.setRequestHeader("Save-Data","off"),c.send(JSON.stringify(n)))}function we(){if(sas.utils.isAddtlConsentBlocked())return null;var e=sas.utils.getLocalStorageItemSafely("sas_addtl_euconsent_v2");return e||null}function Ce(){if(D)return D;var e=sas.utils.getLocalStorageItemSafely("sas_euconsent");return sas.utils.getLocalStorageItemSafely("sas_euconsent_v2")||e}function _e(){var e=sas.utils.getLocalStorageItemSafely("sas_usprivacy");return e||null}function Se(e){return sas.lazyLoading&&sas.lazyLoading.formats&&(0===sas.lazyLoading.formats.length||sas.lazyLoading.formats.length&&-1!==sas.lazyLoading.formats.indexOf(parseInt(e)))?1:0}function De(e){return void 0!==k[e]?k[e]?2:1:0}function ke(e){var n;if("script"==e.tagName.toLowerCase())n=t.createElement("script"),e.type&&(n.type=e.type),e.src&&(n.src=e.src),e.text&&(n.text=e.text);else{n=e.cloneNode(!1);for(var a=e.childNodes,r=0;r<a.length;r++)n.appendChild(ke(a[r]))}return n}function Le(){var t=e;try{for(;t.parent.document;){if(t.parent.document===t.document)return t.location.origin?t.location.origin+t.location.pathname:"";t=t.parent}}catch(e){}try{try{if(e.top.location.href)return e.top.location.origin?e.top.location.origin+e.top.location.pathname:""}catch(e){}var n=e.location.ancestorOrigins;return 1==n.length?t.document.referrer:n[n.length-1]}catch(e){return t.document.referrer}}function Te(e){var n,a=t.createElement("a"),r=/(?:^\?|&)([^=&]+)=?([^&]*)(?=&|$)/g;a.href=e;for(var o=a.search,i=[];null!==(n=r.exec(o));){"extuid-"===(l={n:u(n[1]),v:u(n[2])}).n.substr(0,7)&&_[l.n.substr(7)]||i.push(l)}for(var s in _)i.push({n:"extuid-"+s,v:_[s]});o="";for(var c=0;c<i.length;c++){var l=i[c];o+=(0===c?"?":"&")+d(l.n),""!==l.v&&(o+="="+d(l.v))}return a.search=o,a.href}}(window,document);/*_ts_*/;if(window.sas && sas.configure){sas.configure({id:3948});}/*_ts_*/